= DOCKER-COMPOSE

== Boot2Docker

I'm using Docker Toolbox (https://www.docker.com/products/docker-toolbox)

----
docker-machine create --driver virtualbox default
docker-machine ls

docker-machine start default
docker-machine env default

docker-machine ip
docker-machine ssh
----

SCP/FTP/SFTP : `docker/tcuser`

== Docker Compose

Check configuration

 $ docker-compose config
 
(Force) rebuild

 $ docker-compose up -d
 $ docker-compose up -d --build

Check process

 $ docker-compose ps

== Docker commands

 $ docker images
 $ docker ps -a
 $ docker ps -a --format 'table {{.ID}}\t{{.Image}}\t{{.Names}}\t{{.Status}}'

.Delete <none> images
----
docker image prune -f
docker rmi $(docker images --quiet --filter "dangling=true")
----

Clean up
----
docker system prune
docker system prune --volumes
docker rm $(docker ps -a --format '{{.ID}}' --filter 'exited=0')
----

Show log

 $ docker logs -f [container_name]

AdHoc command

 $ docker exec -it [container_name] bash

Volumes

 $ docker volumes ls
 $ docker volume [volume_name]
 $ docker-machine ssh
 $ docker@default:~$ sudo -i
 $ ls -l /mnt/sda1/var/lib/docker/volumes/

